# 트렌드 비디오 자동화 기능 목록

## 상품 자동화 기능

### 쿠팡 베스트셀러 자동 등록 및 예약
**구현 위치**: `src/app/api/automation/test-generate-stream/route.ts`

**동작 흐름**:
1. **내 목록 우선 확인**
   - DB의 `coupang_products` 테이블에서 등록된 상품 조회
   - 최신 상품 우선 선택 (`ORDER BY created_at DESC`)

2. **베스트셀러 자동 가져오기** (내 목록이 비어있을 경우)
   - 쿠팡 베스트셀러 API 호출 (`/v2/providers/affiliate_open_api/apis/openapi/v1/products/bestcategories/1001`)
   - HMAC-SHA256 서명으로 인증
   - 베스트셀러 1위 상품 자동 선택

3. **딥링크 자동 생성**
   - 긴 affiliate URL을 짧은 딥링크로 변환
   - `https://link.coupang.com/a/xxxxx` 형태로 변환
   - `generateDeeplink()` 유틸리티 함수 사용

4. **자동화 예약큐 등록**
   - `video_titles` 테이블에 상품 정보 저장
   - AI 제목 생성 및 품질 평가
   - 스케줄 자동 설정

**관련 파일**:
- `src/app/api/automation/test-generate-stream/route.ts` - 메인 로직
- `src/lib/coupang-deeplink.ts` - 딥링크 생성 유틸리티
- `src/app/api/coupang/products/route.ts` - 베스트셀러 조회 API (24시간 캐시)

**특징**:
- 24시간 캐시로 빠른 베스트셀러 조회
- 자동 딥링크 변환으로 짧은 링크 보장
- DB 우선 → API 폴백 2단계 전략
- 사용자 개입 없이 완전 자동화

---

## 기타 기능

(추가 기능은 여기에 작성)
