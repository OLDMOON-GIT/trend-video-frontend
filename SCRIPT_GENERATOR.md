# 🎬 AI 대본 생성 기능 사용 가이드

## 📋 개요

Trend Video Frontend에 두 가지 대본 생성 방법이 추가되었습니다:

1. **📋 프롬프트 복사** - 무료, 수동
2. **🤖 AI로 대본 생성** - 유료, 자동

---

## 🆓 방법 1: 프롬프트 복사 (무료)

### 사용 방법:
1. 웹 페이지 상단의 "📋 프롬프트 복사" 버튼 클릭
2. 프롬프트가 클립보드에 자동 복사됨
3. [Claude.ai](https://claude.ai) 웹사이트에 접속
4. 복사한 프롬프트를 붙여넣기
5. 원하는 주제를 추가로 입력
6. Claude가 생성한 대본을 복사

### 장점:
- ✅ 완전 무료
- ✅ API 키 불필요
- ✅ 비용 걱정 없음

### 단점:
- ❌ 수동 작업 필요
- ❌ 복사/붙여넣기 필요

---

## 💰 방법 2: AI로 대본 생성 (유료)

### 사용 방법:
1. Claude API 키 발급 (아래 참조)
2. `.env.local` 파일에 API 키 설정
3. 개발 서버 재시작
4. "🤖 AI로 대본 생성 (유료)" 버튼 클릭
5. 주제 입력 (예: "70대 할머니의 첫 해외여행")
6. 비용 확인 후 진행
7. 자동으로 대본 생성 및 다운로드

### 장점:
- ✅ 완전 자동화
- ✅ 빠른 생성
- ✅ 파일로 자동 다운로드
- ✅ 토큰 사용량 표시

### 단점:
- ❌ 유료 ($0.1~0.5 per generation)
- ❌ API 키 필요
- ❌ 사용량에 따라 과금

---

## 🔑 Claude API 키 발급 방법

### 1. Anthropic 계정 생성
- https://console.anthropic.com 접속
- 계정 생성 (이메일 인증 필요)

### 2. 결제 정보 등록
- **⚠️ 중요**: API를 사용하려면 결제 정보를 먼저 등록해야 합니다
- Settings → Billing으로 이동
- 신용카드 또는 결제 수단 등록

### 3. API 키 발급
- https://console.anthropic.com/settings/keys 접속
- "Create Key" 버튼 클릭
- API 키 복사 (한 번만 표시됨!)

### 4. API 키 설정
`.env.local` 파일을 열고 다음과 같이 수정:

```env
YOUTUBE_API_KEY=AIzaSyBProselpg6MP5QeT6wp1KmDg8LMT7Jz6Y

# Claude API 키 (유료)
ANTHROPIC_API_KEY=sk-ant-api03-xxxxxxxxxxxxxxxxxxxx
```

### 5. 서버 재시작
```bash
npm run dev
```

---

## 💵 비용 안내

### Claude 3.5 Sonnet 요금:
- **입력**: $3 / 1백만 토큰
- **출력**: $15 / 1백만 토큰

### 예상 비용 (대본 1개 생성):
- 프롬프트 파일: ~10,000 토큰 (입력)
- 생성된 대본: ~5,000 토큰 (출력)
- **예상 비용**: $0.10 ~ $0.15

### 비용 절감 팁:
1. 프롬프트 파일을 짧게 유지
2. 여러 대본을 한 번에 생성 (배치 처리)
3. 무료 방법(프롬프트 복사) 활용

---

## 📁 파일 구조

### API Routes:
```
src/app/api/
├── prompt/
│   └── route.ts          # 프롬프트 파일 읽기
└── generate-script/
    └── route.ts          # Claude API 연동
```

### 프롬프트 파일:
```
trend-video-frontend/
└── prompt_v9_5_final.txt  # 메인 프롬프트 파일
```

---

## 🛠️ 설치 패키지

이미 설치된 패키지:
```bash
npm install @anthropic-ai/sdk
```

---

## 🐛 문제 해결

### "API 키가 설정되지 않았습니다" 오류
- `.env.local` 파일 확인
- `ANTHROPIC_API_KEY` 설정 확인
- 개발 서버 재시작 (`npm run dev`)

### "API 키가 유효하지 않습니다" 오류
- API 키가 올바른지 확인
- Anthropic Console에서 키 상태 확인
- 결제 정보가 등록되어 있는지 확인

### "프롬프트를 읽을 수 없습니다" 오류
- `prompt_v9_5_final.txt` 파일이 프로젝트 루트에 있는지 확인
- 파일명이 `prompt`로 시작하고 `.txt`로 끝나는지 확인

---

## 📝 사용 예시

### 프롬프트 복사 방법:
```
1. 버튼 클릭
2. Claude.ai 접속
3. 붙여넣기
4. "70대 할머니가 처음으로 스마트폰을 사용하게 된 이야기를 만들어줘" 입력
5. 생성된 대본 복사
```

### AI 자동 생성 방법:
```
1. 버튼 클릭
2. 주제 입력: "70대 할머니가 처음으로 스마트폰을 사용하게 된 이야기"
3. 확인
4. 대기 (30초~1분)
5. 자동 다운로드: script_70대_할머니가_처음으로_스마트폰을_사용하게_된_이야기_2025-10-28.txt
```

---

## ⚠️ 주의사항

1. **유료 API 사용 시 항상 확인**: 비용이 발생합니다
2. **API 키 보안**: `.env.local` 파일을 Git에 커밋하지 마세요
3. **비용 모니터링**: Anthropic Console에서 사용량 확인
4. **무료 방법 권장**: 가능하면 프롬프트 복사 방법 사용

---

## 🎯 다음 단계

생성된 대본을 AutoShortsEditor로 가져가서:
1. `story.json` 파일 생성
2. 이미지 생성
3. 영상 자동 생성

즐거운 콘텐츠 제작 되세요! 🎬
