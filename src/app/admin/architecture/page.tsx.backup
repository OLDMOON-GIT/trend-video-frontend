'use client';

import { useEffect, useState, useRef } from 'react';
import { useRouter, useSearchParams } from 'next/navigation';
import Link from 'next/link';
import ReactMarkdown from 'react-markdown';
import remarkGfm from 'remark-gfm';
import rehypeRaw from 'rehype-raw';
import mermaid from 'mermaid';

type TabType = 'architecture' | 'erd';

export default function ArchitecturePage() {
  const router = useRouter();
  const searchParams = useSearchParams();
  const [user, setUser] = useState<{ id: string; email: string; isAdmin: boolean } | null>(null);
  const [isLoading, setIsLoading] = useState(true);
  const [activeTab, setActiveTab] = useState<TabType>('architecture');
  const [erdMarkdown, setErdMarkdown] = useState('');
  const [erdError, setErdError] = useState('');
  const mermaidInitialized = useRef(false);

  // ë‹¤ì´ì–´ê·¸ë¨ í™•ëŒ€ ëª¨ë‹¬ ìƒíƒœ
  const [isModalOpen, setIsModalOpen] = useState(false);
  const [modalSvg, setModalSvg] = useState<string>('');
  const [zoomLevel, setZoomLevel] = useState(100);
  const [isDragging, setIsDragging] = useState(false);
  const [position, setPosition] = useState({ x: 0, y: 0 });
  const [dragStart, setDragStart] = useState({ x: 0, y: 0 });

  const getAuthHeaders = (): HeadersInit => {
    return {};
  };

  useEffect(() => {
    checkAuth();

    // URL ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°ì—ì„œ íƒ­ ì •ë³´ ì½ê¸°
    const tab = searchParams.get('tab');
    if (tab === 'erd') {
      setActiveTab('erd');
    }
  }, [searchParams]);

  useEffect(() => {
    if (activeTab === 'erd' && !erdMarkdown && !erdError) {
      loadERD();
    }
  }, [activeTab]);

  // ESC í‚¤ë¡œ ëª¨ë‹¬ ë‹«ê¸°
  useEffect(() => {
    const handleKeyDown = (e: KeyboardEvent) => {
      if (e.key === 'Escape' && isModalOpen) {
        handleCloseModal();
      }
    };

    window.addEventListener('keydown', handleKeyDown);
    return () => window.removeEventListener('keydown', handleKeyDown);
  }, [isModalOpen]);

  useEffect(() => {
    if (!mermaidInitialized.current) {
      // Mermaid ì´ˆê¸°í™” - ë§¤ìš° ë°ì€ ìƒ‰ìƒ í…Œë§ˆ (ê°€ë…ì„± ìµœëŒ€í™”)
      mermaid.initialize({
        startOnLoad: true,
        theme: 'dark',
        themeVariables: {
          // ê¸°ë³¸ ìƒ‰ìƒ - ë§¤ìš° ë°ì€ ë³´ë¼ìƒ‰ ê³„ì—´
          primaryColor: '#c4b5fd',
          primaryTextColor: '#ffffff',
          primaryBorderColor: '#a78bfa',

          // ì„  ë° í™”ì‚´í‘œ - ë§¤ìš° ë°ì€ ë³´ë¼ìƒ‰
          lineColor: '#e9d5ff',

          // ë³´ì¡° ìƒ‰ìƒ - ë§¤ìš° ë°ì€ ì²­ë¡ìƒ‰
          secondaryColor: '#a5f3fc',
          secondaryTextColor: '#ffffff',
          secondaryBorderColor: '#67e8f9',

          // 3ì°¨ ìƒ‰ìƒ - ë§¤ìš° ë°ì€ ë…¹ìƒ‰
          tertiaryColor: '#a7f3d0',
          tertiaryTextColor: '#ffffff',
          tertiaryBorderColor: '#6ee7b7',

          // ë°°ê²½ìƒ‰ - ë” ë°ê²Œ
          background: '#334155',
          mainBkg: '#475569',
          secondBkg: '#64748b',

          // í…ìŠ¤íŠ¸ - í°ìƒ‰ìœ¼ë¡œ í†µì¼
          textColor: '#ffffff',
          labelTextColor: '#ffffff',
          fontSize: '16px',

          // ë…¸íŠ¸ ë° ì•¡í„° - ë°ì€ ë³´ë¼ìƒ‰
          noteBkgColor: '#a78bfa',
          noteTextColor: '#ffffff',
          noteBorderColor: '#8b5cf6',

          actorBkg: '#a78bfa',
          actorTextColor: '#ffffff',
          actorBorder: '#8b5cf6',
          actorLineColor: '#e9d5ff',

          // ê·¸ë¦¬ë“œ ë° ì¶•
          gridColor: '#94a3b8',
          gridTextColor: '#f1f5f9',

          // í´ë˜ìŠ¤ ë‹¤ì´ì–´ê·¸ë¨ (ERDìš©)
          classText: '#ffffff',
        },
      });
      mermaidInitialized.current = true;
    }

    // íƒ­ì´ ë³€ê²½ë˜ê±°ë‚˜ ë§ˆí¬ë‹¤ìš´ì´ ë¡œë“œë  ë•Œ ë‹¤ì´ì–´ê·¸ë¨ ë Œë”ë§
    const renderMermaid = () => {
      setTimeout(() => {
        mermaid.run({
          nodes: document.querySelectorAll('.language-mermaid'),
        });

        // Mermaid ë‹¤ì´ì–´ê·¸ë¨ì— í´ë¦­ ì´ë²¤íŠ¸ ì¶”ê°€
        const mermaidElements = document.querySelectorAll('.language-mermaid svg');
        mermaidElements.forEach((svg) => {
          (svg as HTMLElement).style.cursor = 'pointer';
          (svg as HTMLElement).onclick = () => handleDiagramClick(svg as SVGElement);
        });
      }, 100);
    };

    if (activeTab === 'architecture' || (activeTab === 'erd' && erdMarkdown)) {
      renderMermaid();
    }
  }, [activeTab, erdMarkdown]);

  // ë‹¤ì´ì–´ê·¸ë¨ í´ë¦­ í•¸ë“¤ëŸ¬
  const handleDiagramClick = (svg: SVGElement) => {
    const svgClone = svg.cloneNode(true) as SVGElement;
    setModalSvg(svgClone.outerHTML);
    setZoomLevel(100);
    setPosition({ x: 0, y: 0 });
    setIsModalOpen(true);
  };

  // í™•ëŒ€
  const handleZoomIn = () => {
    setZoomLevel((prev) => Math.min(prev + 25, 300));
  };

  // ì¶•ì†Œ
  const handleZoomOut = () => {
    setZoomLevel((prev) => Math.max(prev - 25, 50));
  };

  // ë¦¬ì…‹
  const handleZoomReset = () => {
    setZoomLevel(100);
    setPosition({ x: 0, y: 0 });
  };

  // ëª¨ë‹¬ ë‹«ê¸°
  const handleCloseModal = () => {
    setIsModalOpen(false);
    setModalSvg('');
  };

  // ë“œë˜ê·¸ ì‹œì‘
  const handleMouseDown = (e: React.MouseEvent) => {
    setIsDragging(true);
    setDragStart({ x: e.clientX - position.x, y: e.clientY - position.y });
  };

  // ë“œë˜ê·¸ ì¤‘
  const handleMouseMove = (e: React.MouseEvent) => {
    if (isDragging) {
      setPosition({
        x: e.clientX - dragStart.x,
        y: e.clientY - dragStart.y,
      });
    }
  };

  // ë“œë˜ê·¸ ì¢…ë£Œ
  const handleMouseUp = () => {
    setIsDragging(false);
  };

  // íƒ­ ë³€ê²½ + URL ì—…ë°ì´íŠ¸
  const handleTabChange = (tab: TabType) => {
    setActiveTab(tab);
    if (tab === 'erd') {
      router.push('/admin/architecture?tab=erd');
    } else {
      router.push('/admin/architecture');
    }
  };

  const checkAuth = async () => {
    try {
      const response = await fetch('/api/auth/session', {
        headers: getAuthHeaders(),
        credentials: 'include'
      });
      const data = await response.json();

      if (!data.user || !data.user.isAdmin) {
        alert('ê´€ë¦¬ì ê¶Œí•œì´ í•„ìš”í•©ë‹ˆë‹¤.');
        router.push('/');
        return;
      }

      setUser(data.user);
    } catch (error) {
      console.error('Auth check error:', error);
      router.push('/auth');
    } finally {
      setIsLoading(false);
    }
  };

  const loadERD = async () => {
    try {
      const response = await fetch('/api/admin/architecture');
      const data = await response.json();

      if (!response.ok) {
        setErdError(data.error || 'ERD ë¬¸ì„œë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
        return;
      }

      setErdMarkdown(data.content);
    } catch (err: any) {
      console.error('ERD ë¡œë“œ ì‹¤íŒ¨:', err);
      setErdError(err.message || 'ERD ë¬¸ì„œ ë¡œë”© ì‹¤íŒ¨');
    }
  };

  if (isLoading) {
    return (
      <div className="min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center">
        <div className="text-white text-xl">ë¡œë”© ì¤‘...</div>
      </div>
    );
  }

  return (
    <div className="min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 p-6">
      <div className="mx-auto max-w-7xl">
        {/* í—¤ë” */}
        <div className="mb-8 flex items-center justify-between">
          <div>
            <h1 className="text-4xl font-bold text-white">ğŸ—ï¸ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜ & ERD</h1>
            <p className="mt-2 text-sm text-slate-400">ì‹œìŠ¤í…œ êµ¬ì¡° ë° ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„ ë¬¸ì„œ</p>
          </div>
          <Link
            href="/admin"
            className="rounded-lg bg-slate-700 px-4 py-2 text-sm text-white transition hover:bg-slate-600"
          >
            â† ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ
          </Link>
        </div>

        {/* íƒ­ ë„¤ë¹„ê²Œì´ì…˜ */}
        <div className="mb-6 flex gap-4">
          <button
            onClick={() => handleTabChange('architecture')}
            className={`rounded-lg px-6 py-3 font-semibold transition ${
              activeTab === 'architecture'
                ? 'bg-purple-600 text-white shadow-lg'
                : 'bg-slate-800/50 text-slate-400 hover:bg-slate-700 hover:text-white'
            }`}
          >
            ğŸ—ï¸ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜
          </button>
          <button
            onClick={() => handleTabChange('erd')}
            className={`rounded-lg px-6 py-3 font-semibold transition ${
              activeTab === 'erd'
                ? 'bg-purple-600 text-white shadow-lg'
                : 'bg-slate-800/50 text-slate-400 hover:bg-slate-700 hover:text-white'
            }`}
          >
            ğŸ“Š ERD ë¬¸ì„œ
          </button>
        </div>

        {/* íƒ­ ì½˜í…ì¸  */}
        {activeTab === 'architecture' && (
          <>
        {/* Mermaid ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜ ë‹¤ì´ì–´ê·¸ë¨ */}
        <div className="mb-8 rounded-2xl border border-purple-500/30 bg-slate-800/50 p-8 backdrop-blur">
          <h2 className="mb-6 text-2xl font-bold text-white">ğŸ—ï¸ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜ ë‹¤ì´ì–´ê·¸ë¨</h2>
          <div
            className="rounded-lg border border-purple-500/20 bg-slate-900/50 p-6 overflow-x-auto relative group cursor-pointer hover:border-purple-500/50 transition-all"
            onClick={(e) => {
              const svg = e.currentTarget.querySelector('svg');
              if (svg) {
                handleDiagramClick(svg as SVGElement);
              }
            }}
          >
            {/* í´ë¦­ íŒíŠ¸ */}
            <div className="absolute top-2 right-2 z-10 opacity-0 group-hover:opacity-100 transition-opacity duration-200 rounded-lg bg-purple-600 px-3 py-1 text-xs text-white shadow-lg pointer-events-none">
              ğŸ” í´ë¦­í•˜ì—¬ í™•ëŒ€
            </div>
            <pre className="language-mermaid mermaid bg-transparent border-none p-0">
{`graph TB
    subgraph Browser["ğŸŒ ì‚¬ìš©ì ë¸Œë¼ìš°ì €"]
        UI["React/Next.js UI<br/>ì¿ í‚¤ ê¸°ë°˜ ì¸ì¦"]
    end

    subgraph Frontend["âš›ï¸ Next.js API Routes"]
        Auth["/api/auth/*<br/>ì¸ì¦/ì„¸ì…˜"]
        Scripts["/api/scripts/generate<br/>ëŒ€ë³¸ ìƒì„±"]
        Video["/api/generate-video-upload<br/>ì˜ìƒ ìƒì„±"]
        Merge["/api/video-merge<br/>ë¹„ë””ì˜¤ ë³‘í•©"]
        Sora["/api/sora2/generate<br/>SORA2"]
    end

    subgraph Backend["ğŸ Python Backend"]
        AIAgg["run_ai_aggregator.py<br/>Multi-AI ëŒ€ë³¸"]
        VideoGen["video_generator_main.py<br/>ë¡±í¼ ì˜ìƒ"]
        ShortGen["short_video_generator.py<br/>ìˆí¼ ì˜ìƒ"]
        VideoMerge["video_merge.py<br/>ë³‘í•© + TTS"]
        Sora2Gen["sora2_generator.py<br/>SORA2"]
    end

    subgraph Storage["ğŸ’¾ ì €ì¥ì†Œ"]
        DB["SQLite Database<br/>users, jobs, scripts"]
        Files["File System<br/>output/, uploaded/"]
    end

    UI -->|"HTTP POST"| Auth
    UI -->|"HTTP POST"| Scripts
    UI -->|"HTTP POST + Files"| Video
    UI -->|"HTTP POST + Files"| Merge
    UI -->|"HTTP POST"| Sora

    Auth --> DB
    Scripts -->|"spawn(python)"| AIAgg
    Video -->|"spawn(python)"| VideoGen
    Video -->|"spawn(python)"| ShortGen
    Merge -->|"spawn(python)"| VideoMerge
    Sora -->|"spawn(python)"| Sora2Gen

    AIAgg --> Files
    VideoGen --> Files
    ShortGen --> Files
    VideoMerge --> Files
    Sora2Gen --> Files

    Scripts --> DB
    Video --> DB
    Merge --> DB
    Sora --> DB

    Files -.->|"í´ë§(2ì´ˆ)"| UI

    style Browser fill:#1e40af,stroke:#3b82f6,color:#fff
    style Frontend fill:#7c3aed,stroke:#a78bfa,color:#fff
    style Backend fill:#059669,stroke:#34d399,color:#fff
    style Storage fill:#0891b2,stroke:#22d3ee,color:#fff`}
            </pre>
          </div>
        </div>

        {/* ì „ì²´ ì•„í‚¤í…ì²˜ ë‹¤ì´ì–´ê·¸ë¨ */}
        <div className="mb-8 rounded-2xl border border-white/10 bg-slate-800/50 p-8 backdrop-blur">
          <h2 className="mb-6 text-2xl font-bold text-white">ğŸ“ ì „ì²´ ì‹œìŠ¤í…œ êµ¬ì¡° (ìƒì„¸)</h2>

          <div className="space-y-6">
            {/* ì‚¬ìš©ì ë¸Œë¼ìš°ì € */}
            <div className="rounded-xl border border-blue-500/30 bg-blue-500/10 p-6">
              <div className="mb-3 flex items-center gap-2">
                <span className="text-2xl">ğŸŒ</span>
                <h3 className="text-xl font-bold text-blue-300">ì‚¬ìš©ì ë¸Œë¼ìš°ì €</h3>
              </div>
              <div className="space-y-2 text-sm text-slate-300">
                <p>â€¢ React/Next.js UI ì»´í¬ë„ŒíŠ¸</p>
                <p>â€¢ ì¿ í‚¤ ê¸°ë°˜ ì¸ì¦ (httpOnly)</p>
                <p>â€¢ Fetch APIë¡œ Next.js API Routes í˜¸ì¶œ</p>
              </div>
            </div>

            <div className="text-center text-2xl text-purple-400">â†“ HTTP Request</div>

            {/* Next.js Frontend Server */}
            <div className="rounded-xl border border-purple-500/30 bg-purple-500/10 p-6">
              <div className="mb-3 flex items-center gap-2">
                <span className="text-2xl">âš›ï¸</span>
                <h3 className="text-xl font-bold text-purple-300">Next.js API Routes (Frontend Server)</h3>
              </div>
              <div className="mb-4 space-y-2 text-sm text-slate-300">
                <p>â€¢ <code className="rounded bg-slate-700 px-2 py-1">/api/auth/*</code> - ì¸ì¦ (ë¡œê·¸ì¸, ì„¸ì…˜ ê´€ë¦¬)</p>
                <p>â€¢ <code className="rounded bg-slate-700 px-2 py-1">/api/scripts/generate</code> - ëŒ€ë³¸ ìƒì„± ìš”ì²­</p>
                <p>â€¢ <code className="rounded bg-slate-700 px-2 py-1">/api/generate-video-upload</code> - ë¡±í¼/ìˆí¼ ì˜ìƒ ìƒì„±</p>
                <p>â€¢ <code className="rounded bg-slate-700 px-2 py-1">/api/video-merge</code> - ë¹„ë””ì˜¤ ë³‘í•©</p>
                <p>â€¢ <code className="rounded bg-slate-700 px-2 py-1">/api/sora2/generate</code> - SORA2 ë¹„ë””ì˜¤ ìƒì„±</p>
                <p>â€¢ <code className="rounded bg-slate-700 px-2 py-1">/api/convert-format</code> - ëŒ€ë³¸ í˜•ì‹ ë³€í™˜</p>
              </div>
              <div className="rounded-lg bg-purple-900/30 p-4">
                <p className="text-sm font-semibold text-purple-200">ì£¼ìš” ì—­í• :</p>
                <ul className="mt-2 space-y-1 text-sm text-slate-300">
                  <li>âœ… ì„¸ì…˜ ê²€ì¦ (ì¿ í‚¤ ê¸°ë°˜)</li>
                  <li>âœ… íŒŒì¼ ì—…ë¡œë“œ ì²˜ë¦¬ (ì´ë¯¸ì§€, ë¹„ë””ì˜¤)</li>
                  <li>âœ… íŒŒì¼ ì •ë ¬ (lastModified ê¸°ì¤€)</li>
                  <li>âœ… Python ìŠ¤í¬ë¦½íŠ¸ spawn ë° PID ê´€ë¦¬</li>
                  <li>âœ… ì‘ì—… ìƒíƒœ ì¶”ì  (DB ì €ì¥)</li>
                  <li>âœ… ì—ëŸ¬ ì²˜ë¦¬ ë° ë¡œê¹…</li>
                </ul>
              </div>
            </div>

            <div className="text-center text-2xl text-green-400">â†“ spawn('python', [...])</div>

            {/* Python Backend */}
            <div className="rounded-xl border border-green-500/30 bg-green-500/10 p-6">
              <div className="mb-3 flex items-center gap-2">
                <span className="text-2xl">ğŸ</span>
                <h3 className="text-xl font-bold text-green-300">Python Backend (Subprocess)</h3>
              </div>
              <div className="mb-4 space-y-2 text-sm text-slate-300">
                <p>â€¢ <code className="rounded bg-slate-700 px-2 py-1">run_ai_aggregator.py</code> - Multi-AI ëŒ€ë³¸ ìƒì„±</p>
                <p>â€¢ <code className="rounded bg-slate-700 px-2 py-1">video_generator_main.py</code> - ë¡±í¼ ì˜ìƒ ìƒì„±</p>
                <p>â€¢ <code className="rounded bg-slate-700 px-2 py-1">short_video_generator.py</code> - ìˆí¼ ì˜ìƒ ìƒì„±</p>
                <p>â€¢ <code className="rounded bg-slate-700 px-2 py-1">video_merge.py</code> - ë¹„ë””ì˜¤ ë³‘í•© + TTS</p>
                <p>â€¢ <code className="rounded bg-slate-700 px-2 py-1">sora2_generator.py</code> - SORA2 ë¹„ë””ì˜¤ ìƒì„±</p>
              </div>
              <div className="rounded-lg bg-green-900/30 p-4">
                <p className="text-sm font-semibold text-green-200">ì£¼ìš” ì—­í• :</p>
                <ul className="mt-2 space-y-1 text-sm text-slate-300">
                  <li>âœ… AI ëŒ€ë³¸ ìƒì„± (Claude, GPT, Gemini, Grok)</li>
                  <li>âœ… ë¹„ë””ì˜¤ ì²˜ë¦¬ (FFmpeg)</li>
                  <li>âœ… TTS ìƒì„± (Edge TTS + WordBoundary)</li>
                  <li>âœ… ìë§‰ ì‹±í¬ (ASS í¬ë§·)</li>
                  <li>âœ… íŠ¸ëœì§€ì…˜ íš¨ê³¼ ì ìš©</li>
                  <li>âœ… ê²°ê³¼ íŒŒì¼ ìƒì„± ë° ìƒíƒœ ì—…ë°ì´íŠ¸</li>
                </ul>
              </div>
            </div>

            <div className="text-center text-2xl text-yellow-400">â†“ íŒŒì¼ ì‹œìŠ¤í…œ I/O</div>

            {/* íŒŒì¼ ì‹œìŠ¤í…œ */}
            <div className="rounded-xl border border-yellow-500/30 bg-yellow-500/10 p-6">
              <div className="mb-3 flex items-center gap-2">
                <span className="text-2xl">ğŸ“</span>
                <h3 className="text-xl font-bold text-yellow-300">íŒŒì¼ ì‹œìŠ¤í…œ (ê³µìœ  ìŠ¤í† ë¦¬ì§€)</h3>
              </div>
              <div className="space-y-2 text-sm text-slate-300">
                <p>â€¢ <code className="rounded bg-slate-700 px-2 py-1">output/</code> - ìƒì„±ëœ ì˜ìƒ íŒŒì¼</p>
                <p>â€¢ <code className="rounded bg-slate-700 px-2 py-1">uploaded/</code> - ì—…ë¡œë“œëœ ì´ë¯¸ì§€/ë¹„ë””ì˜¤</p>
                <p>â€¢ <code className="rounded bg-slate-700 px-2 py-1">scripts/</code> - ìƒì„±ëœ ëŒ€ë³¸ JSON</p>
                <p>â€¢ <code className="rounded bg-slate-700 px-2 py-1">status.json</code> - ì‘ì—… ì§„í–‰ ìƒíƒœ</p>
              </div>
            </div>

            <div className="text-center text-2xl text-cyan-400">â†‘ í´ë§ (2ì´ˆë§ˆë‹¤ status.json ì²´í¬)</div>

            {/* ë°ì´í„°ë² ì´ìŠ¤ */}
            <div className="rounded-xl border border-cyan-500/30 bg-cyan-500/10 p-6">
              <div className="mb-3 flex items-center gap-2">
                <span className="text-2xl">ğŸ’¾</span>
                <h3 className="text-xl font-bold text-cyan-300">SQLite ë°ì´í„°ë² ì´ìŠ¤</h3>
              </div>
              <div className="space-y-2 text-sm text-slate-300">
                <p>â€¢ <code className="rounded bg-slate-700 px-2 py-1">users</code> - ì‚¬ìš©ì ì •ë³´, í¬ë ˆë”§</p>
                <p>â€¢ <code className="rounded bg-slate-700 px-2 py-1">scripts_temp</code> - ëŒ€ë³¸ ìƒì„± ì‘ì—… (ì§„í–‰ì¤‘/ì™„ë£Œ)</p>
                <p>â€¢ <code className="rounded bg-slate-700 px-2 py-1">video_generation_tasks</code> - ì˜ìƒ ìƒì„± ì‘ì—…</p>
                <p>â€¢ <code className="rounded bg-slate-700 px-2 py-1">charge_requests</code> - ì¶©ì „ ìš”ì²­</p>
                <p>â€¢ <code className="rounded bg-slate-700 px-2 py-1">user_activity_logs</code> - ì‚¬ìš©ì í™œë™ ë¡œê·¸</p>
              </div>
            </div>
          </div>
        </div>

        {/* ë°ì´í„° íë¦„ ìƒì„¸ */}
        <div className="grid gap-6 md:grid-cols-2">
          {/* ëŒ€ë³¸ ìƒì„± ì›Œí¬í”Œë¡œìš° */}
          <div className="rounded-2xl border border-white/10 bg-slate-800/50 p-6 backdrop-blur">
            <h3 className="mb-4 text-xl font-bold text-white">ğŸ“ ëŒ€ë³¸ ìƒì„± ì›Œí¬í”Œë¡œìš°</h3>
            <div className="space-y-3 text-sm text-slate-300">
              <div className="rounded-lg bg-blue-900/20 p-3">
                <p className="font-semibold text-blue-300">1. ì‚¬ìš©ì ìš”ì²­</p>
                <p className="mt-1 text-xs">ì£¼ì œ ì…ë ¥ â†’ /api/scripts/generate POST</p>
              </div>
              <div className="rounded-lg bg-purple-900/20 p-3">
                <p className="font-semibold text-purple-300">2. Frontend ì²˜ë¦¬</p>
                <p className="mt-1 text-xs">ì„¸ì…˜ ê²€ì¦ â†’ í¬ë ˆë”§ í™•ì¸ â†’ DBì— PENDING ì‘ì—… ìƒì„±</p>
              </div>
              <div className="rounded-lg bg-green-900/20 p-3">
                <p className="font-semibold text-green-300">3. Python Spawn</p>
                <p className="mt-1 text-xs">run_ai_aggregator.py ì‹¤í–‰ â†’ PID ì €ì¥</p>
              </div>
              <div className="rounded-lg bg-yellow-900/20 p-3">
                <p className="font-semibold text-yellow-300">4. AI ëŒ€ë³¸ ìƒì„±</p>
                <p className="mt-1 text-xs">Multi-AI í˜¸ì¶œ â†’ ëŒ€ë³¸ JSON ìƒì„±</p>
              </div>
              <div className="rounded-lg bg-cyan-900/20 p-3">
                <p className="font-semibold text-cyan-300">5. ì™„ë£Œ ì²˜ë¦¬</p>
                <p className="mt-1 text-xs">status.json ì—…ë°ì´íŠ¸ â†’ Frontend í´ë§ìœ¼ë¡œ ê°ì§€ â†’ DB COMPLETED</p>
              </div>
            </div>
          </div>

          {/* ì˜ìƒ ìƒì„± ì›Œí¬í”Œë¡œìš° */}
          <div className="rounded-2xl border border-white/10 bg-slate-800/50 p-6 backdrop-blur">
            <h3 className="mb-4 text-xl font-bold text-white">ğŸ¬ ì˜ìƒ ìƒì„± ì›Œí¬í”Œë¡œìš°</h3>
            <div className="space-y-3 text-sm text-slate-300">
              <div className="rounded-lg bg-blue-900/20 p-3">
                <p className="font-semibold text-blue-300">1. ì‚¬ìš©ì ì—…ë¡œë“œ</p>
                <p className="mt-1 text-xs">ì´ë¯¸ì§€ ì—…ë¡œë“œ â†’ /api/generate-video-upload POST</p>
              </div>
              <div className="rounded-lg bg-purple-900/20 p-3">
                <p className="font-semibold text-purple-300">2. íŒŒì¼ ì •ë ¬</p>
                <p className="mt-1 text-xs">lastModified ê¸°ì¤€ ì •ë ¬ â†’ image_01.jpg, image_02.jpg...</p>
              </div>
              <div className="rounded-lg bg-green-900/20 p-3">
                <p className="font-semibold text-green-300">3. Python Spawn</p>
                <p className="mt-1 text-xs">video_generator_main.py ë˜ëŠ” short_video_generator.py</p>
              </div>
              <div className="rounded-lg bg-yellow-900/20 p-3">
                <p className="font-semibold text-yellow-300">4. ë¹„ë””ì˜¤ ì²˜ë¦¬</p>
                <p className="mt-1 text-xs">FFmpegë¡œ íŠ¸ëœì§€ì…˜ + TTS + ìë§‰ ë³‘í•©</p>
              </div>
              <div className="rounded-lg bg-cyan-900/20 p-3">
                <p className="font-semibold text-cyan-300">5. ì™„ë£Œ</p>
                <p className="mt-1 text-xs">final_video.mp4 ìƒì„± â†’ ë‹¤ìš´ë¡œë“œ ê°€ëŠ¥</p>
              </div>
            </div>
          </div>

          {/* ë¹„ë””ì˜¤ ë³‘í•© ì›Œí¬í”Œë¡œìš° */}
          <div className="rounded-2xl border border-white/10 bg-slate-800/50 p-6 backdrop-blur">
            <h3 className="mb-4 text-xl font-bold text-white">ğŸ”— ë¹„ë””ì˜¤ ë³‘í•© ì›Œí¬í”Œë¡œìš°</h3>
            <div className="space-y-3 text-sm text-slate-300">
              <div className="rounded-lg bg-blue-900/20 p-3">
                <p className="font-semibold text-blue-300">1. ë¹„ë””ì˜¤ ì—…ë¡œë“œ</p>
                <p className="mt-1 text-xs">ì—¬ëŸ¬ MP4 íŒŒì¼ + JSON ì—…ë¡œë“œ â†’ /api/video-merge POST</p>
              </div>
              <div className="rounded-lg bg-purple-900/20 p-3">
                <p className="font-semibold text-purple-300">2. íŒŒì¼ ì •ë ¬</p>
                <p className="mt-1 text-xs">ì‹œí€€ìŠ¤ ë²ˆí˜¸ ìš°ì„  â†’ lastModified í´ë°±</p>
              </div>
              <div className="rounded-lg bg-green-900/20 p-3">
                <p className="font-semibold text-green-300">3. Python Spawn</p>
                <p className="mt-1 text-xs">video_merge.py --mode merge</p>
              </div>
              <div className="rounded-lg bg-yellow-900/20 p-3">
                <p className="font-semibold text-yellow-300">4. TTS + ìë§‰</p>
                <p className="mt-1 text-xs">Edge TTS WordBoundary â†’ ASS ìë§‰ â†’ FFmpeg ë³‘í•©</p>
              </div>
              <div className="rounded-lg bg-cyan-900/20 p-3">
                <p className="font-semibold text-cyan-300">5. ì œëª© íŒŒì¼ëª…</p>
                <p className="mt-1 text-xs">JSONì˜ title ì¶”ì¶œ â†’ ì•ˆì „í•œ íŒŒì¼ëª…ìœ¼ë¡œ ë³€í™˜</p>
              </div>
            </div>
          </div>

          {/* SORA2 ìƒì„± ì›Œí¬í”Œë¡œìš° */}
          <div className="rounded-2xl border border-white/10 bg-slate-800/50 p-6 backdrop-blur">
            <h3 className="mb-4 text-xl font-bold text-white">âœ¨ SORA2 ìƒì„± ì›Œí¬í”Œë¡œìš°</h3>
            <div className="space-y-3 text-sm text-slate-300">
              <div className="rounded-lg bg-blue-900/20 p-3">
                <p className="font-semibold text-blue-300">1. ëŒ€ë³¸ ì„ íƒ</p>
                <p className="mt-1 text-xs">SORA2 ëŒ€ë³¸ ì„ íƒ â†’ /api/sora2/generate POST</p>
              </div>
              <div className="rounded-lg bg-purple-900/20 p-3">
                <p className="font-semibold text-purple-300">2. Frontend ì²˜ë¦¬</p>
                <p className="mt-1 text-xs">JSON íŒŒì¼ ì €ì¥ â†’ Python spawn</p>
              </div>
              <div className="rounded-lg bg-green-900/20 p-3">
                <p className="font-semibold text-green-300">3. Python Spawn</p>
                <p className="mt-1 text-xs">sora2_generator.py --input [script.json]</p>
              </div>
              <div className="rounded-lg bg-yellow-900/20 p-3">
                <p className="font-semibold text-yellow-300">4. SORA2 API</p>
                <p className="mt-1 text-xs">í”„ë¡¬í”„íŠ¸ ê¸°ë°˜ ë¹„ë””ì˜¤ ìƒì„± (ì™¸ë¶€ API í˜¸ì¶œ)</p>
              </div>
              <div className="rounded-lg bg-cyan-900/20 p-3">
                <p className="font-semibold text-cyan-300">5. ë‹¤ìš´ë¡œë“œ</p>
                <p className="mt-1 text-xs">ìƒì„±ëœ ë¹„ë””ì˜¤ ë‹¤ìš´ë¡œë“œ â†’ ìµœì¢… íŒŒì¼ ì €ì¥</p>
              </div>
            </div>
          </div>
        </div>

        {/* í•µì‹¬ ê¸°ìˆ  ìŠ¤íƒ */}
        <div className="mt-6 rounded-2xl border border-white/10 bg-slate-800/50 p-8 backdrop-blur">
          <h2 className="mb-6 text-2xl font-bold text-white">ğŸ› ï¸ í•µì‹¬ ê¸°ìˆ  ìŠ¤íƒ</h2>
          <div className="grid gap-6 md:grid-cols-3">
            <div className="rounded-lg bg-blue-500/10 p-4">
              <h4 className="mb-3 font-bold text-blue-300">Frontend</h4>
              <ul className="space-y-2 text-sm text-slate-300">
                <li>â€¢ Next.js 14 (App Router)</li>
                <li>â€¢ React 18</li>
                <li>â€¢ TypeScript</li>
                <li>â€¢ Tailwind CSS</li>
                <li>â€¢ Fetch API</li>
              </ul>
            </div>
            <div className="rounded-lg bg-green-500/10 p-4">
              <h4 className="mb-3 font-bold text-green-300">Backend</h4>
              <ul className="space-y-2 text-sm text-slate-300">
                <li>â€¢ Python 3.11+</li>
                <li>â€¢ Selenium (ë¸Œë¼ìš°ì € ìë™í™”)</li>
                <li>â€¢ Edge TTS (ìŒì„± í•©ì„±)</li>
                <li>â€¢ FFmpeg (ë¹„ë””ì˜¤ ì²˜ë¦¬)</li>
                <li>â€¢ Multi-AI APIs</li>
              </ul>
            </div>
            <div className="rounded-lg bg-purple-500/10 p-4">
              <h4 className="mb-3 font-bold text-purple-300">Database & Storage</h4>
              <ul className="space-y-2 text-sm text-slate-300">
                <li>â€¢ SQLite</li>
                <li>â€¢ íŒŒì¼ ì‹œìŠ¤í…œ (ë¡œì»¬)</li>
                <li>â€¢ JSON ìƒíƒœ íŒŒì¼</li>
                <li>â€¢ better-sqlite3</li>
              </ul>
            </div>
          </div>
        </div>

        {/* ì¤‘ìš” íŒ¨í„´ ë° ê·œì¹™ */}
        <div className="mt-6 rounded-2xl border border-orange-500/30 bg-orange-500/10 p-8 backdrop-blur">
          <h2 className="mb-4 text-2xl font-bold text-orange-300">âš ï¸ ì¤‘ìš” íŒ¨í„´ ë° ê·œì¹™</h2>
          <div className="space-y-3 text-sm text-slate-300">
            <div className="rounded-lg bg-orange-900/30 p-4">
              <p className="font-semibold text-orange-200">1. íŒŒì¼ ì •ë ¬ ê·œì¹™ (CRITICAL)</p>
              <p className="mt-2">â€¢ ì´ë¯¸ì§€/ë¹„ë””ì˜¤ëŠ” <strong>lastModified ì˜¤ë˜ëœ ìˆœ</strong>ìœ¼ë¡œ ì •ë ¬</p>
              <p>â€¢ ImageFX/Whisk ëœë¤ ID ëŒ€ì‘</p>
              <p>â€¢ Frontendì—ì„œ ì •ë ¬ â†’ Pythonì—ì„œ ì¬ì •ë ¬ ê¸ˆì§€</p>
            </div>
            <div className="rounded-lg bg-orange-900/30 p-4">
              <p className="font-semibold text-orange-200">2. í”„ë¡œì„¸ìŠ¤ ê´€ë¦¬</p>
              <p className="mt-2">â€¢ Python spawn ì‹œ PID ì €ì¥</p>
              <p>â€¢ ì·¨ì†Œ ì‹œ taskkill /F /Të¡œ í”„ë¡œì„¸ìŠ¤ íŠ¸ë¦¬ ì „ì²´ ì¢…ë£Œ</p>
              <p>â€¢ ì¢€ë¹„ í”„ë¡œì„¸ìŠ¤ ë°©ì§€ (ShimGen.exe ì •ë¦¬)</p>
            </div>
            <div className="rounded-lg bg-orange-900/30 p-4">
              <p className="font-semibold text-orange-200">3. ì¸ì¦ ì‹œìŠ¤í…œ</p>
              <p className="mt-2">â€¢ ì¿ í‚¤ ê¸°ë°˜ ì„¸ì…˜ (httpOnly)</p>
              <p>â€¢ localStorage ì‚¬ìš© ê¸ˆì§€</p>
              <p>â€¢ ëª¨ë“  APIëŠ” getCurrentUser()ë¡œ ì¸ì¦ í™•ì¸</p>
            </div>
            <div className="rounded-lg bg-orange-900/30 p-4">
              <p className="font-semibold text-orange-200">4. ì—ëŸ¬ ì²˜ë¦¬</p>
              <p className="mt-2">â€¢ HTTP 404ëŠ” ì—”ë“œí¬ì¸íŠ¸ ì—†ì„ ë•Œë§Œ</p>
              <p>â€¢ ë°ì´í„° ì—†ìŒ: 400 + errorCode (ì˜ˆ: SCRIPT_NOT_FOUND)</p>
              <p>â€¢ ëª¨ë“  ì—ëŸ¬ì— ì»¤ìŠ¤í…€ ì—ëŸ¬ ì½”ë“œ í¬í•¨</p>
            </div>
            <div className="rounded-lg bg-orange-900/30 p-4">
              <p className="font-semibold text-orange-200">5. ìë§‰ ì‹±í¬</p>
              <p className="mt-2">â€¢ Edge TTS WordBoundaryë¡œ ë‹¨ì–´ë³„ íƒ€ì„ìŠ¤íƒ¬í”„ ìˆ˜ì§‘</p>
              <p>â€¢ ASS í¬ë§·ìœ¼ë¡œ ìë§‰ ìƒì„±</p>
              <p>â€¢ ì˜¤ë””ì˜¤ê°€ ë¹„ë””ì˜¤ë³´ë‹¤ ê¸¸ë©´ tpadë¡œ í”„ë ˆì„ freeze</p>
            </div>
          </div>
        </div>

        {/* ì°¸ê³  ë¬¸ì„œ ë§í¬ */}
        <div className="mt-6 rounded-xl border border-blue-500/30 bg-blue-500/10 p-6 backdrop-blur">
          <h3 className="mb-3 text-lg font-bold text-blue-300">ğŸ“š ì°¸ê³  ë¬¸ì„œ</h3>
          <div className="space-y-2 text-sm text-slate-300">
            <p>â€¢ <strong>DEVELOPMENT_GUIDE.md:</strong> ì „ì²´ ê°œë°œ ê°€ì´ë“œ (íŒŒì¼ ì •ë ¬, ìë§‰ ì‹±í¬, Regression Test ë“±)</p>
            <p>â€¢ <strong>Frontend í…ŒìŠ¤íŠ¸:</strong> <code className="rounded bg-slate-700 px-2 py-1">__tests__/api/file-sorting.test.ts</code></p>
            <p>â€¢ <strong>Backend í…ŒìŠ¤íŠ¸:</strong> <code className="rounded bg-slate-700 px-2 py-1">tests/test_regression.py</code></p>
            <p>â€¢ <strong>API êµ¬ì¡°:</strong> <code className="rounded bg-slate-700 px-2 py-1">src/app/api/*/route.ts</code></p>
          </div>
        </div>
        </>
      )}

        {/* ERD íƒ­ */}
        {activeTab === 'erd' && (
          <div className="rounded-2xl border border-white/10 bg-slate-800/50 backdrop-blur p-8">
            {/* ìƒˆë¡œê³ ì¹¨ ë²„íŠ¼ */}
            <div className="mb-6 flex items-center justify-between">
              <h2 className="text-2xl font-bold text-white">ğŸ“Š ERD ë¬¸ì„œ</h2>
              <button
                onClick={() => {
                  setErdMarkdown('');
                  setErdError('');
                  loadERD();
                }}
                className="rounded-lg bg-purple-600 px-4 py-2 text-sm text-white transition hover:bg-purple-500 flex items-center gap-2"
              >
                <svg xmlns="http://www.w3.org/2000/svg" className="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" />
                </svg>
                ìƒˆë¡œê³ ì¹¨
              </button>
            </div>

            {erdError ? (
              <div className="rounded-xl border border-red-500/30 bg-red-500/10 p-8 text-center">
                <div className="text-6xl mb-4">âŒ</div>
                <h2 className="text-2xl font-bold text-red-300 mb-2">ë¬¸ì„œ ë¡œë“œ ì‹¤íŒ¨</h2>
                <p className="text-slate-300">{erdError}</p>
              </div>
            ) : !erdMarkdown ? (
              <div className="text-center py-12">
                <div className="animate-spin rounded-full h-16 w-16 border-b-2 border-purple-500 mx-auto mb-4"></div>
                <p className="text-slate-300 text-lg">ERD ë¬¸ì„œ ë¡œë”© ì¤‘...</p>
              </div>
            ) : (
              <article className="prose prose-invert prose-slate max-w-none
                prose-headings:text-white
                prose-h1:text-4xl prose-h1:font-bold prose-h1:mb-6
                prose-h2:text-3xl prose-h2:font-bold prose-h2:mt-12 prose-h2:mb-4 prose-h2:border-b prose-h2:border-purple-500/30 prose-h2:pb-3
                prose-h3:text-2xl prose-h3:font-semibold prose-h3:mt-8 prose-h3:mb-3 prose-h3:text-purple-300
                prose-p:text-slate-300 prose-p:leading-relaxed
                prose-a:text-purple-400 prose-a:no-underline hover:prose-a:text-purple-300
                prose-code:text-purple-300 prose-code:bg-slate-900/50 prose-code:px-2 prose-code:py-1 prose-code:rounded prose-code:before:content-none prose-code:after:content-none
                prose-pre:bg-slate-900/80 prose-pre:border prose-pre:border-purple-500/20 prose-pre:shadow-xl
                prose-strong:text-white prose-strong:font-bold
                prose-ul:text-slate-300
                prose-ol:text-slate-300
                prose-li:text-slate-300
                prose-table:border-collapse
                prose-thead:border-b-2 prose-thead:border-purple-500/30
                prose-th:text-purple-300 prose-th:font-bold prose-th:p-3 prose-th:text-left
                prose-td:text-slate-300 prose-td:p-3 prose-td:border-t prose-td:border-slate-700
                prose-blockquote:border-l-4 prose-blockquote:border-purple-500 prose-blockquote:bg-purple-500/10 prose-blockquote:pl-4 prose-blockquote:py-2
                prose-img:rounded-lg prose-img:shadow-lg
              ">
                <ReactMarkdown
                  remarkPlugins={[remarkGfm]}
                  rehypePlugins={[rehypeRaw]}
                  components={{
                    code({ node, inline, className, children, ...props }: any) {
                      const match = /language-(\w+)/.exec(className || '');
                      const language = match ? match[1] : '';

                      if (!inline && language === 'mermaid') {
                        return (
                          <div className="my-8 rounded-lg border border-purple-500/20 bg-slate-900/50 p-6 overflow-x-auto relative group">
                            {/* í´ë¦­ íŒíŠ¸ */}
                            <div className="absolute top-2 right-2 z-10 opacity-0 group-hover:opacity-100 transition-opacity duration-200 rounded-lg bg-purple-600 px-3 py-1 text-xs text-white shadow-lg">
                              ğŸ” í´ë¦­í•˜ì—¬ í™•ëŒ€
                            </div>
                            <pre className="language-mermaid mermaid bg-transparent border-none p-0 overflow-visible">
                              {String(children).replace(/\n$/, '')}
                            </pre>
                          </div>
                        );
                      }

                      return (
                        <code className={className} {...props}>
                          {children}
                        </code>
                      );
                    },
                    table({ children }: any) {
                      return (
                        <div className="overflow-x-auto my-6">
                          <table className="min-w-full border border-slate-700 rounded-lg">
                            {children}
                          </table>
                        </div>
                      );
                    },
                  }}
                >
                  {erdMarkdown}
                </ReactMarkdown>
              </article>
            )}
          </div>
        )}
      </div>

      {/* ë‹¤ì´ì–´ê·¸ë¨ í™•ëŒ€ ëª¨ë‹¬ */}
      {isModalOpen && (
        <div
          className="fixed inset-0 z-[99999] flex items-center justify-center bg-black/90 p-4"
          onClick={handleCloseModal}
        >
          <div
            className="relative max-h-[90vh] max-w-[90vw] overflow-hidden rounded-2xl border border-purple-500/30 bg-slate-900 p-6"
            onClick={(e) => e.stopPropagation()}
          >
            {/* ì»¨íŠ¸ë¡¤ ë²„íŠ¼ */}
            <div className="absolute right-6 top-6 z-10 flex gap-2">
              <button
                onClick={handleZoomOut}
                className="rounded-lg bg-purple-600 px-4 py-2 text-white shadow-lg transition hover:bg-purple-500"
                title="ì¶•ì†Œ"
              >
                <svg xmlns="http://www.w3.org/2000/svg" className="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M20 12H4" />
                </svg>
              </button>
              <button
                onClick={handleZoomReset}
                className="rounded-lg bg-slate-600 px-4 py-2 text-white shadow-lg transition hover:bg-slate-500"
                title="ë¦¬ì…‹ (100%)"
              >
                {zoomLevel}%
              </button>
              <button
                onClick={handleZoomIn}
                className="rounded-lg bg-purple-600 px-4 py-2 text-white shadow-lg transition hover:bg-purple-500"
                title="í™•ëŒ€"
              >
                <svg xmlns="http://www.w3.org/2000/svg" className="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 4v16m8-8H4" />
                </svg>
              </button>
              <button
                onClick={handleCloseModal}
                className="rounded-lg bg-red-600 px-4 py-2 text-white shadow-lg transition hover:bg-red-500"
                title="ë‹«ê¸°"
              >
                âœ•
              </button>
            </div>

            {/* ë‹¤ì´ì–´ê·¸ë¨ ì»¨í…Œì´ë„ˆ */}
            <div
              className="relative overflow-auto"
              style={{
                maxHeight: 'calc(90vh - 6rem)',
                maxWidth: 'calc(90vw - 3rem)',
                cursor: isDragging ? 'grabbing' : 'grab'
              }}
              onMouseDown={handleMouseDown}
              onMouseMove={handleMouseMove}
              onMouseUp={handleMouseUp}
              onMouseLeave={handleMouseUp}
            >
              <div
                style={{
                  transform: `scale(${zoomLevel / 100}) translate(${position.x}px, ${position.y}px)`,
                  transformOrigin: 'top left',
                  transition: isDragging ? 'none' : 'transform 0.2s ease-out',
                }}
                dangerouslySetInnerHTML={{ __html: modalSvg }}
              />
            </div>

            {/* ì•ˆë‚´ ë©”ì‹œì§€ */}
            <div className="mt-4 text-center text-sm text-slate-400">
              ğŸ’¡ ë“œë˜ê·¸ë¡œ ì´ë™ ê°€ëŠ¥ | ë§ˆìš°ìŠ¤ë¡œ í™•ëŒ€/ì¶•ì†Œ | ESCë¡œ ë‹«ê¸°
            </div>
          </div>
        </div>
      )}

      {/* ë§¨ ìœ„ë¡œ ë²„íŠ¼ */}
      <button
        onClick={() => window.scrollTo({ top: 0, behavior: 'smooth' })}
        className="fixed bottom-6 right-6 z-50 cursor-pointer rounded-full bg-purple-600 p-4 text-white shadow-lg transition hover:bg-purple-500 hover:shadow-xl"
        title="ë§¨ ìœ„ë¡œ"
      >
        <svg xmlns="http://www.w3.org/2000/svg" className="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M5 10l7-7m0 0l7 7m-7-7v18" />
        </svg>
      </button>
    </div>
  );
}
